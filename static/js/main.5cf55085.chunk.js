(this.webpackJsonppomodoro=this.webpackJsonppomodoro||[]).push([[0],{181:function(e,t,a){e.exports=a(265)},186:function(e,t,a){},264:function(e,t,a){},265:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(17),l=a.n(r),c=(a(186),a(13)),s=a(7),i=a(10),m=a(3),u=a(18),d=a(299),p=a(31),g=a(301),b=a(303),f=a(304),k=a(305),E=Object(d.a)({root:{width:"calc(100vw)",position:"fixed",bottom:0}});function h(e){var t=E(),a=o.a.useState(e.location),n=Object(i.a)(a,2),r=n[0],l=n[1];return o.a.createElement(g.a,{value:r,onChange:function(e,t){l(t)},showLabels:!0,className:t.root},o.a.createElement(b.a,{label:"Task List",value:"",component:p.b,to:"/",icon:o.a.createElement(f.a,null)}),o.a.createElement(b.a,{label:"Manual Timer",value:"timer",component:p.b,to:"/timer",icon:o.a.createElement(k.a,null)}))}var v=a(306),T=a(307),y=a(308),O=a(64),j=a(166),S=a(313),x=a(314),B=a(309),N=a(310),M=a(311),w=a(315),C=a(316),I=Object(n.createContext)({}),P=Object(d.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},listItem:{minWidth:"36px"}}}));function L(e){var t=P(),a=o.a.useState(null),r=Object(i.a)(a,2),l=r[0],c=r[1],m=Boolean(l),d=Object(n.useContext)(I),p=d.state,g=d.actions,b=Object(u.g)(),f=function(){c(null)};return o.a.createElement("div",{className:t.root},o.a.createElement(v.a,null,o.a.createElement(T.a,null,o.a.createElement(y.a,{disabled:e.isPlay,edge:"start",style:{display:e.displayBack?"":"none"},color:"inherit","aria-label":"open drawer",onClick:function(){b.push("/")}},o.a.createElement(B.a,null)),o.a.createElement(O.a,{variant:"h6",className:t.title},e.title),o.a.createElement("div",null,o.a.createElement(y.a,{"aria-label":"delete","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(){g({type:"setState",payload:Object(s.a)(Object(s.a)({},p),{},{oldTaskId:p.selectedTasks,selectedTasks:[]})})},color:"inherit",style:{display:0==p.selectedTasks.length?"none":""}},o.a.createElement(N.a,null)),o.a.createElement(y.a,{"aria-label":"menu","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){c(e.currentTarget)},color:"inherit",style:{display:0!=p.selectedTasks.length||e.displayBack?"none":""}},o.a.createElement(M.a,null)),o.a.createElement(j.a,{id:"menu-appbar",anchorEl:l,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:m,onClose:f},o.a.createElement(S.a,{onClick:function(){f(),b.push("/settings")}},o.a.createElement(x.a,{className:t.listItem},o.a.createElement(w.a,{fontSize:"small"})),"Settings"),o.a.createElement(S.a,{onClick:function(){f(),b.push("/about")}},o.a.createElement(x.a,{className:t.listItem},o.a.createElement(C.a,{fontSize:"small"})),"About"))))))}var F=a(336),A=a(337),z=a(340),q=a(317),G=a(318),D=a(319),H=a(163),J=a.n(H);function R(e){var t=Object(n.useContext)(I),a=t.state,r=t.actions,l=Object(d.a)({card:{marginBottom:"1em",width:"100%"},overlay:{position:"absolute",width:"100%",height:"100%",top:"0",left:"0",backgroundColor:"black",opacity:a.selectedTasks.includes(e.id)?.1:0}})(),c=e.name,i=e.count,m=Object(u.g)();return o.a.createElement(J.a,{time:.25,onEnd:function(t,n){t.preventDefault();var o=a.selectedTasks,l=0==a.selectedTasks.length,c=o.indexOf(e.id),i=c>-1;n||!l&&!i?o.includes(e.id)||(o.push(e.id),r({type:"setState",payload:Object(s.a)(Object(s.a)({},a),{},{selectedTasks:o})})):l?m.push(e.to):i&&(o.splice(c,1),r({type:"setState",payload:Object(s.a)(Object(s.a)({},a),{},{selectedTasks:o})}))},onStart:function(e){}},o.a.createElement(q.a,{className:l.card},o.a.createElement(G.a,null,o.a.createElement(D.a,null,o.a.createElement(O.a,{variant:"h5",component:"h2"},c),o.a.createElement(O.a,{color:"textSecondary"},i," pomodoro")),o.a.createElement("div",{className:l.overlay}))))}var W=a(323),K=a(324),U=a(325),V=a(268),Q=a(339),X=a(342),Y=a(322),Z=a(321),$=a(320);function _(e){var t=e.open,a=e.setOpen,r=e.type,l=o.a.useState(""),c=Object(i.a)(l,2),m=c[0],u=c[1],d=Object(n.useContext)(I),p=d.state,g=d.actions,b=d.updateTasks,f=o.a.useState({title:null,component:null,handleSave:null,saveText:null}),k=Object(i.a)(f,2),E=k[0],h=k[1],v=function(){u(""),a(!1)},T=function(t){"settings"==r?"number"==e.settings.fieldType?t.target.value<100&&t.target.value>0?u(t.target.value):u(""):t.target.value.length<=48&&u(t.target.value):t.target.value.length<=18&&u(t.target.value)};return o.a.useEffect((function(){switch(r){case"newTask":h({title:"New Task",component:function(e){var t=e.value;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Q.a,{autoFocus:!0,margin:"dense",id:"name",label:"Task Name",type:"text",fullWidth:!0,value:t,onChange:T}))},saveText:"Create",handleSave:function(e){g({type:"setState",payload:Object(s.a)(Object(s.a)({},p),{},{newTask:{name:e,count:0,currentTime:p.settings.pomodoroTime.pomodoro,status:"pomodoro",isStart:0}})}),v()}});break;case"settings":var t=e.settings;u(t.value),h({title:t.label,component:function(e){var a=e.value;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Q.a,{autoFocus:!0,margin:"dense",id:t.name,label:t.label,type:t.fieldType,fullWidth:!0,value:a,onChange:T}))},saveText:"Save",handleSave:function(e){var a=Object(s.a)({},p.settings);a[t.name][t.id]="number"==t.fieldType?parseInt(e):e,g({type:"setState",payload:Object(s.a)(Object(s.a)({},p),{},{settings:a})}),b(),v()}});break;default:return null}}),[]),o.a.createElement(X.a,{open:t,onClose:v,"aria-labelledby":"form-dialog-title"},o.a.createElement($.a,{id:"form-dialog-title"},E.title),o.a.createElement(Z.a,null,o.a.createElement(E.component,{value:m})),o.a.createElement(Y.a,null,o.a.createElement(V.a,{onClick:v,color:"primary"},"Cancel"),o.a.createElement(V.a,{disabled:""==m,onClick:function(){return E.handleSave(m)},color:"primary"},E.saveText)))}var ee=Object(d.a)((function(e){return{root:{height:"calc(100vh - 125px)",textAlign:"center"},img:{width:"10em"},fab:{position:"fixed",bottom:e.spacing(9),right:e.spacing(2),zIndex:"2"}}}));function te(){var e=ee(),t=o.a.useContext(I).state,a=o.a.useState(!1),n=Object(i.a)(a,2),r=n[0],l=n[1],c=function(){return 0==t.tasks.length?o.a.createElement(W.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:e.root},o.a.createElement("img",{alt:"no-data",src:"/pomodoro/assets/no-data.png",className:e.img}),o.a.createElement(O.a,{gutterBottom:!0,variant:"subtitle1",style:{opacity:.75}},"No Current Task")):t.tasks.map((function(e,t){return o.a.createElement(R,{key:e.id,id:e.id,name:e.name,count:e.count,to:"/task/"+e.id})}))};return o.a.createElement(o.a.Fragment,null,o.a.createElement(c,null),o.a.createElement(K.a,{className:e.fab,color:"primary","aria-label":"add",onClick:function(){l(!0)}},o.a.createElement(U.a,null)),o.a.createElement(_,{open:r,setOpen:l,type:"newTask"}))}var ae=a(343),ne=a(344),oe=a(326),re=a(327),le=a(328),ce=a(329),se=a(330),ie=a(48),me=a.n(ie);function ue(e){var t=e.icon;return e.hide?null:e.nav?o.a.createElement(z.a,null,o.a.createElement(y.a,{disabled:e.nav.disabled,style:{opacity:e.nav.disabled?.5:1}},o.a.createElement(t,{color:"secondary",onClick:e.click}))):o.a.createElement(z.a,{borderRadius:"50%",borderColor:"primary.main",border:1,margin:1},o.a.createElement(y.a,null,o.a.createElement(t,{fontSize:"large",color:"primary",onClick:e.click})))}var de=a(59);function pe(e,t,a){if("granted"===Notification.permission){var n=t?a[e].start:a[e].end,o=n.title,r={body:n.body,icon:"https://mqad21.github.io/pomodoro/logo192.png"};navigator.serviceWorker.getRegistration().then((function(e){e.showNotification(o,r)}))}else console.error("Notification denied")}var ge=a(63),be=Object(d.a)({root:{minHeight:"calc(100vh - 134px)",textAlign:"center"},card:{width:"100%"},timer:{width:"100%",fontSize:"6em",textAlign:"center",fontWeight:"bold"},count:{marginTop:"2em"}});function fe(e){var t=o.a.useContext(I),a=t.state,n=t.updateTasks,r=be(),l=o.a.useState(!1),c=Object(i.a)(l,1)[0],m=o.a.useState(!1),d=Object(i.a)(m,2),p=d[0],g=d[1],b=Object(u.i)().id,f=Object(de.useIndexedDB)("tasks").update,k=a.tasks.filter((function(e){return e.id==b}))[0],E=o.a.useRef(!1),h=Object(ge.a)("https://mqad21.github.io/pomodoro/assets/alarm.mp3"),v=Object(i.a)(h,2),T=v[0],y=v[1].stop,j=Object(ge.a)("https://mqad21.github.io/pomodoro/assets/beep.mp3"),S=Object(i.a)(j,1)[0],x=function(e){f(e).then((function(e){n()}))},B=function(e,t){e<0&&(e=0);var a=Object(s.a)(Object(s.a)({},k),{},{id:parseInt(b),currentTime:e,isStart:t});x(a)},N=function(e,t,n){var o;y(),o=n?"pomodoro"!=e?parseInt(k.count)+1:parseInt(k.count):"pomodoro"==e?parseInt(k.count)-1:parseInt(k.count),x(Object(s.a)(Object(s.a)({},k),{},{id:parseInt(b),currentTime:a.settings.pomodoroTime[e],status:e,count:o,isStart:0})),setTimeout((function(){t(60*a.settings.pomodoroTime[e]*1e3)}),200)},M=function(e){var t=(k.count+1)%4==0;"pomodoro"==k.status?N(t?"longBreak":"shortBreak",e,!0):N("pomodoro",e,!0)},w=function(e){var t=e.start,n=e.pause,l=(e.stop,e.getTime),c=e.setTime;l()<0&&!E.current&&(setTimeout((function(){T()}),500),T(),E.current=!0,g(!1),M(c),pe(k.status,!1,a.settings.notif));return o.a.createElement(o.a.Fragment,null,o.a.createElement(q.a,{className:r.card,variant:"outlined"},o.a.createElement(D.a,null,o.a.createElement(O.a,{className:r.timer},o.a.createElement(me.a.Minutes,null),":",o.a.createElement(me.a.Seconds,null)),o.a.createElement(W.a,{container:!0,direction:"row",justify:"center",alignItems:"center",className:r.buttons},o.a.createElement(ue,{hide:p,icon:oe.a,click:function(){!function(e){var t=k.count%4==0;"pomodoro"==k.status?N(t?"longBreak":"shortBreak",e,!1):N("pomodoro",e,!1)}(c)},nav:{disabled:0==k.count}}),o.a.createElement(ue,{hide:p,icon:re.a,click:function(){S(),E.current=!1,t(),g(!0),pe(k.status,!0,a.settings.notif)}}),o.a.createElement(ue,{hide:!p,icon:le.a,click:function(){B(l()/6e4,1),g(!1),n()}}),o.a.createElement(ue,{hide:p,icon:ce.a,click:function(){var e=a.settings.pomodoroTime[k.status];B(e,0),c(60*e*1e3),g(!1)}}),o.a.createElement(ue,{hide:p,icon:se.a,click:function(){M(c)},nav:{disabled:!1}})))))};return c?o.a.createElement(u.a,{to:"/"}):void 0==k?null:(e.setTitle(k.name),o.a.createElement(W.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:r.root},o.a.createElement(o.a.Fragment,null,o.a.createElement(q.a,{className:r.card,variant:"outlined"},o.a.createElement(D.a,null,o.a.createElement(O.a,{variant:"h4"},a.settings.statusName[k.status]),o.a.createElement(O.a,{variant:"subtitle",color:"textSecondary"},a.settings.statusMessage[k.status]))),o.a.createElement(me.a,{startImmediately:!1,initialTime:void 0==k?0:60*k.currentTime*1e3,direction:"backward",lastUnit:"m",formatValue:function(e){return"".concat(e<10?"0".concat(e):e)}},w),o.a.createElement(ae.a,{color:"primary",avatar:o.a.createElement(ne.a,null,k.count),label:"Pomodoro",className:r.count}))))}var ke=a(331),Ee=Object(d.a)({root:{minHeight:"calc(100vh - 134px)",textAlign:"center"},card:{width:"100%"},timer:{width:"100%",fontSize:"6em",textAlign:"center",fontWeight:"bold"},buttonGroup:{marginTop:"1.5em"},button:{lineHeight:1.2}});function he(){var e=Ee(),t=o.a.useContext(I),a=t.state,n=t.actions,r=a.manualTimer,l=o.a.useState(!1),c=Object(i.a)(l,2),m=c[0],u=c[1],d=o.a.useRef(!1),p=Object(ge.a)("https://mqad21.github.io/pomodoro/assets/alarm.mp3"),g=Object(i.a)(p,1)[0],b=Object(ge.a)("https://mqad21.github.io/pomodoro/assets/beep.mp3"),f=Object(i.a)(b,1)[0],k=function(e,t){e<0&&(e=0),n({type:"setState",payload:Object(s.a)(Object(s.a)({},a),{},{manualTimer:Object(s.a)(Object(s.a)({},r),{},{currentTime:e,isStart:t})})})},E=function(e){r.status!=e&&n({type:"setState",payload:Object(s.a)(Object(s.a)({},a),{},{manualTimer:Object(s.a)(Object(s.a)({},r),{},{status:e,currentTime:a.settings.pomodoroTime[e]})})})},h=function(t){var n=t.start,l=t.reset,c=t.pause,s=(t.stop,t.getTime),i=t.setTime;s()<0&&!d.current&&(g(),d.current=!0,u(!1),pe(r.status,!1,a.settings.notif),l());return o.a.createElement(o.a.Fragment,null,o.a.createElement(q.a,{className:e.card,variant:"outlined"},o.a.createElement(D.a,null,o.a.createElement(O.a,{className:e.timer},o.a.createElement(me.a.Minutes,null),":",o.a.createElement(me.a.Seconds,null)),o.a.createElement(W.a,{container:!0,direction:"row",justify:"center",alignItems:"center",className:e.buttons},o.a.createElement(ue,{hide:m,icon:re.a,click:function(){f(),d.current=!1,n(),u(!0),pe(r.status,!0,a.settings.notif)}}),o.a.createElement(ue,{hide:!m,icon:le.a,click:function(){k(s()/6e4,1),u(!1),c()}}),o.a.createElement(ue,{hide:m,icon:ce.a,click:function(){var e=a.settings.pomodoroTime[r.status];k(e,0),i(60*e*1e3),u(!1)}})))))};return o.a.createElement(W.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:e.root},o.a.createElement(q.a,{className:e.card,variant:"outlined"},o.a.createElement(D.a,null,o.a.createElement(O.a,{variant:"h4"},a.settings.statusName[r.status]),o.a.createElement(O.a,{variant:"subtitle",color:"textSecondary"},a.settings.statusMessage[r.status]))),o.a.createElement(me.a,{startImmediately:!1,initialTime:void 0==r?0:60*r.currentTime*1e3,direction:"backward",lastUnit:"m",formatValue:function(e){return"".concat(e<10?"0".concat(e):e)}},h),o.a.createElement(ke.a,{className:e.buttonGroup,color:"primary","aria-label":"outlined primary button group"},o.a.createElement(V.a,{onClick:function(){E("pomodoro")},variant:"pomodoro"==r.status?"contained":"outlined",className:e.button},"Pomodoro"),o.a.createElement(V.a,{onClick:function(){E("shortBreak")},variant:"shortBreak"==r.status?"contained":"outlined",className:e.button},"Short Break"),o.a.createElement(V.a,{onClick:function(){E("longBreak")},variant:"longBreak"==r.status?"contained":"outlined",className:e.button},"Long Break")))}var ve=a(332),Te=a(267),ye=a(333),Oe=a(312),je=a(345);function Se(e){e.setTitle("Settings");var t=o.a.useContext(I),a=t.state,n=t.actions,r=o.a.useState(!1),l=Object(i.a)(r,2),c=l[0],m=l[1],u=o.a.useState(null),d=Object(i.a)(u,2),p=d[0],g=d[1],b=[{id:"pomodoro",name:"pomodoroTime",label:"Pomodoro Time",valueLabel:a.settings.pomodoroTime.pomodoro+" minutes",value:a.settings.pomodoroTime.pomodoro,fieldType:"number"},{id:"shortBreak",name:"pomodoroTime",label:"Short Break Time",valueLabel:a.settings.pomodoroTime.shortBreak+" minutes",value:a.settings.pomodoroTime.shortBreak,fieldType:"number"},{id:"longBreak",name:"pomodoroTime",label:"Long Break Time",valueLabel:a.settings.pomodoroTime.longBreak+" minutes",value:a.settings.pomodoroTime.longBreak,fieldType:"number"},{id:"pomodoro",name:"statusMessage",label:"Pomodoro Message",valueLabel:a.settings.statusMessage.pomodoro,value:a.settings.statusMessage.pomodoro,fieldType:"text"},{id:"shortBreak",name:"statusMessage",label:"Short Break Message",valueLabel:a.settings.statusMessage.shortBreak,value:a.settings.statusMessage.shortBreak,fieldType:"text"},{id:"longBreak",name:"statusMessage",label:"Long Break Message",valueLabel:a.settings.statusMessage.longBreak,value:a.settings.statusMessage.longBreak,fieldType:"text"}];o.a.useEffect((function(){null!=p&&m(!0)}),[p]);var f=function(){return b.map((function(e,t){return o.a.createElement(o.a.Fragment,null,o.a.createElement(ve.a,null),o.a.createElement(Te.a,null,o.a.createElement(ye.a,{primary:e.label,secondary:e.valueLabel,onClick:function(){g(e)}})))}))},k=function(){return null==p?null:o.a.createElement(_,{open:c,setOpen:m,type:"settings",settings:p})};return o.a.createElement(o.a.Fragment,null,o.a.createElement(Oe.a,null,o.a.createElement(Te.a,null,o.a.createElement(W.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},o.a.createElement(ye.a,{primary:"Dark Mode"}),o.a.createElement(je.a,{checked:a.settings.darkMode,onChange:function(e){n({type:"setState",payload:Object(s.a)(Object(s.a)({},a),{},{settings:Object(s.a)(Object(s.a)({},a.settings),{},{darkMode:e.target.checked?1:0})})})},color:"primary",name:"darkMode",inputProps:{"aria-label":"primary checkbox"}}))),o.a.createElement(f,null)),o.a.createElement(k,null))}var xe=a(335),Be=a(334),Ne=Object(d.a)({root:{minHeight:"calc(100vh - 134px)",textAlign:"center"}});function Me(e){var t=Ne();return e.setTitle("About"),o.a.createElement(W.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:t.root},o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{variant:"h6"},"About Pomodoro Timer"),o.a.createElement(O.a,{variant:"body1",color:"textSecondary"},"Pomodoro Timer is a web app that can assist you to manage your time using pomodoro technique. Thank you for using this app. May Allah bless you :)"),o.a.createElement(O.a,{variant:"body1",style:{marginTop:"2em"},color:"textSecondary"},"Made with ",o.a.createElement(Be.a,{fontSize:"small",color:"primary"})," by ",o.a.createElement(xe.a,{href:"https://instagram.com/mqad21",variant:"body1"},"@mqad21"))))}var we=Object(d.a)((function(e){return{content:{backgroundColor:"primary",flexGrow:1,marginTop:"56px",padding:e.spacing(3),paddingBottom:"56px",minHeight:"calc(100vh - 56px)"},padding0:{padding:0},bottomNav:{marginTop:"28px"}}}));function Ce(){var e=we(),t=o.a.useContext(I),a=t.state,n=t.actions,r=Object(u.h)().pathname.split("/")[1],l=["task","settings","about"].includes(r),d=o.a.useState("Pomodoro Timer"),p=Object(i.a)(d,2),g=p[0],b=p[1],f=o.a.useState(!1),k=Object(i.a)(f,2),E=k[0],v=k[1],T=function(){0!==a.selectedTasks.length&&n({type:"setState",payload:Object(s.a)(Object(s.a)({},a),{},{selectedTasks:[]})})},y=function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement(F.a,null),o.a.createElement(A.a,{className:Object(m.a)(e.content,Object(c.a)({},e.padding0,"settings"===r),Object(c.a)({},e.bottomNav,t.bottomNav)),onClick:T},o.a.createElement(z.a,{my:2},t.component)),t.bottomNav?o.a.createElement(h,{location:r}):null)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(L,{isPlay:E,displayBack:l,title:["","timer"].includes(r)?"Pomodoro Timer":g}),o.a.createElement(u.d,null,o.a.createElement(u.b,{exact:!0,path:"/"},o.a.createElement(y,{bottomNav:!0,component:o.a.createElement(te,null),noMargin:!1})),o.a.createElement(u.b,{exact:!0,path:"/timer"},o.a.createElement(y,{bottomNav:!0,component:o.a.createElement(he,null),noMargin:!1})),o.a.createElement(u.b,{exact:!0,path:"/task/:id"},o.a.createElement(y,{bottomNav:!1,component:o.a.createElement(fe,{setIsPlay:v,setTitle:b,noMargin:!1})})),o.a.createElement(u.b,{exact:!0,path:"/settings"},o.a.createElement(y,{bottomNav:!1,component:o.a.createElement(Se,{setTitle:b,noMargin:!0})})),o.a.createElement(u.b,{exact:!0,path:"/about"},o.a.createElement(y,{bottomNav:!1,component:o.a.createElement(Me,{setTitle:b,noMargin:!1})})),o.a.createElement(u.a,{to:"/"})))}a(264);var Ie=a(165),Pe=a(338),Le=a(119),Fe=a.n(Le),Ae=a(164),ze=a.n(Ae);var qe=function(){var e=o.a.useContext(I).state,t=Object(Ie.a)({palette:{type:1==e.settings.darkMode?"dark":"light",primary:{main:1==e.settings.darkMode?Fe.a[400]:Fe.a[600]},secondary:{main:ze.a[700]}}});return o.a.createElement(p.a,null,o.a.createElement(Pe.a,{theme:t},o.a.createElement(Ce,null)))};Object(de.initDB)({name:"Pomodoro",version:4,objectStoresMeta:[{store:"tasks",storeConfig:{keyPath:"id",autoIncrement:!0},storeSchema:[{name:"name",keypath:"name"},{name:"count",keypath:"count"},{name:"currentTime",keypath:"currentTime"},{name:"status",keypath:"status"},{name:"isStart",keypath:"isStart"}]}]});var Ge=function(){var e=function(){var e=Object(de.useIndexedDB)("tasks"),t=e.getAll,a=e.add,o=e.deleteRecord,r=e.update,l=JSON.parse(localStorage.getItem("settings"))||{},c=l.pomodoroTime||{},m=l.statusMessage||{},u=l.darkMode||0,d=Object(n.useState)({tasks:[],newTask:null,oldTaskId:null,selectedTasks:[],manualTimer:JSON.parse(localStorage.getItem("manualTimer"))||{status:"pomodoro",currentTime:c.pomodoro||25,isStart:0},settings:{pomodoroTime:{pomodoro:c.pomodoro||25,shortBreak:c.shortBreak||5,longBreak:c.longBreak||10},statusName:{pomodoro:"Pomodoro",shortBreak:"Short Break",longBreak:"Long Break"},statusMessage:{pomodoro:m.pomodoro||"Let's start and become productive.",shortBreak:m.shortBreak||"Good job! let's take a short break.",longBreak:m.longBreak||"Awesome! let's take a long break."},notif:{pomodoro:{start:{title:"Pomodoro timer is set",body:"Keep focus, dude!"},end:{title:"Pomodoro timer has ended",body:"Take a break, dude!"}},shortBreak:{start:{title:"Short break timer is set",body:"Have fun, dude!"},end:{title:"Short break timer has ended",body:"Let's back work!"}},longBreak:{start:{title:"Long break timer is set",body:"Be happy, dude!"},end:{title:"Long break timer has ended",body:"Keep spirit!"}}},darkMode:u}}),p=Object(i.a)(d,2),g=p[0],b=p[1];Object(n.useEffect)((function(){localStorage.setItem("settings",Object(s.a)(Object(s.a)({},l),{},{darkMode:g.settings.darkMode}))}),[g.settings.darkMode]),Object(n.useEffect)((function(){localStorage.setItem("settings",JSON.stringify(g.settings))}),[g.settings]),Object(n.useEffect)((function(){localStorage.setItem("manualTimer",JSON.stringify(g.manualTimer))}),[g.manualTimer]);var f=function(){t().then((function(e){for(var t=0;t<e.length;t++)0==e[t].isStart&&(e[t].currentTime=g.settings.pomodoroTime[e[t].status]);var a=0==g.manualTimer.isStart?g.settings.pomodoroTime[g.manualTimer.status]:g.manualTimer.currentTime;b(Object(s.a)(Object(s.a)({},g),{},{tasks:e,manualTimer:Object(s.a)(Object(s.a)({},g.manualTimer),{},{currentTime:a})}))}))};return Object(n.useEffect)((function(){f()}),[]),Object(n.useEffect)((function(){null!=g.updatedTask&&r(Object(s.a)({},g.updatedTask)).then((function(e){console.log("ID Generated: ",e.target),t().then((function(e){b(Object(s.a)(Object(s.a)({},g),{},{updatedTask:null,tasks:e}))}))}),(function(e){console.log(e)}))}),[g.updatedTask]),Object(n.useEffect)((function(){null!=g.newTask&&a(Object(s.a)({},g.newTask)).then((function(e){console.log("ID Generated: ",e.target),t().then((function(e){b(Object(s.a)(Object(s.a)({},g),{},{newTask:null,tasks:e}))}))}),(function(e){console.log(e)}))}),[g.newTask]),Object(n.useEffect)((function(){null!=g.oldTaskId&&g.oldTaskId.forEach((function(e){o(e),t().then((function(e){b(Object(s.a)(Object(s.a)({},g),{},{oldTaskId:null,tasks:e}))}))}))}),[g.oldTaskId]),{state:g,actions:function(e){var t=e.type,a=e.payload;switch(t){case"setState":return b(a);default:return g}},updateTasks:f}}();return o.a.createElement(I.Provider,{value:e},o.a.createElement(qe,null))};l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(Ge,null)),document.getElementById("root"))}},[[181,1,2]]]);
//# sourceMappingURL=main.5cf55085.chunk.js.map