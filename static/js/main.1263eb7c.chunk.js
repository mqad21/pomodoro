(this.webpackJsonppomodoro=this.webpackJsonppomodoro||[]).push([[0],{165:function(e,t,a){e.exports=a.p+"static/media/alarm.a292996e.mp3"},182:function(e,t,a){e.exports=a(266)},187:function(e,t,a){},265:function(e,t,a){},266:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(17),l=a.n(r),c=(a(187),a(13)),s=a(7),i=a(11),m=a(3),u=a(18),d=a(300),p=a(44),g=a(31),b=a(302),f=a(304),k=a(305),E=a(306),h=Object(d.a)({root:{width:"calc(100vw)",position:"fixed",bottom:0}});function v(e){var t=h(),a=o.a.useState(e.location),n=Object(i.a)(a,2),r=n[0],l=n[1];return o.a.createElement(b.a,{value:r,onChange:function(e,t){l(t)},showLabels:!0,className:t.root},o.a.createElement(f.a,{label:"Task List",value:"",component:g.b,to:"/",icon:o.a.createElement(k.a,null)}),o.a.createElement(f.a,{label:"Manual Timer",value:"timer",component:g.b,to:"/timer",icon:o.a.createElement(E.a,null)}))}var T=a(307),y=a(308),O=a(309),j=a(63),S=a(167),x=a(314),B=a(315),N=a(310),w=a(311),M=a(312),C=a(316),I=a(317),L=Object(n.createContext)({}),P=Object(d.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},listItem:{minWidth:"36px"}}}));function F(e){var t=P(),a=o.a.useState(!0),r=Object(i.a)(a,2),l=r[0],c=(r[1],o.a.useState(null)),m=Object(i.a)(c,2),d=m[0],p=m[1],g=Boolean(d),b=Object(n.useContext)(L),f=b.state,k=b.actions,E=Object(u.g)(),h=function(){p(null)};return o.a.createElement("div",{className:t.root},o.a.createElement(T.a,null,o.a.createElement(y.a,null,o.a.createElement(O.a,{edge:"start",style:{display:e.displayBack?"":"none"},color:"inherit","aria-label":"open drawer",onClick:function(){window.history.back()}},o.a.createElement(N.a,null)),o.a.createElement(j.a,{variant:"h6",className:t.title},e.title),l&&o.a.createElement("div",null,o.a.createElement(O.a,{"aria-label":"delete","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(){k({type:"setState",payload:Object(s.a)(Object(s.a)({},f),{},{oldTaskId:f.selectedTasks,selectedTasks:[]})})},color:"inherit",style:{display:0==f.selectedTasks.length?"none":""}},o.a.createElement(w.a,null)),o.a.createElement(O.a,{"aria-label":"menu","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){p(e.currentTarget)},color:"inherit",style:{display:0!=f.selectedTasks.length||e.displayBack?"none":""}},o.a.createElement(M.a,null)),o.a.createElement(S.a,{id:"menu-appbar",anchorEl:d,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:g,onClose:h},o.a.createElement(x.a,{onClick:function(){h(),E.push("/settings")}},o.a.createElement(B.a,{className:t.listItem},o.a.createElement(C.a,{fontSize:"small"})),"Settings"),o.a.createElement(x.a,{onClick:function(){h(),E.push("/about")}},o.a.createElement(B.a,{className:t.listItem},o.a.createElement(I.a,{fontSize:"small"})),"About"))))))}var A=a(337),z=a(338),G=a(341),D=a(318),H=a(319),J=a(320),R=a(163),W=a.n(R);function q(e){var t=Object(n.useContext)(L),a=t.state,r=t.actions,l=Object(d.a)({card:{marginBottom:"1em",width:"100%"},overlay:{position:"absolute",width:"100%",height:"100%",top:"0",left:"0",backgroundColor:"black",opacity:a.selectedTasks.includes(e.id)?.1:0}})(),c=e.name,i=e.count,m=Object(u.g)();return o.a.createElement(W.a,{time:.25,onEnd:function(t,n){t.preventDefault();var o=a.selectedTasks,l=0==a.selectedTasks.length,c=o.indexOf(e.id),i=c>-1;n||!l&&!i?o.includes(e.id)||(o.push(e.id),r({type:"setState",payload:Object(s.a)(Object(s.a)({},a),{},{selectedTasks:o})})):l?m.push(e.to):i&&(o.splice(c,1),r({type:"setState",payload:Object(s.a)(Object(s.a)({},a),{},{selectedTasks:o})}))},onStart:function(e){}},o.a.createElement(D.a,{className:l.card},o.a.createElement(H.a,null,o.a.createElement(J.a,null,o.a.createElement(j.a,{variant:"h5",component:"h2"},c),o.a.createElement(j.a,{color:"textSecondary"},i," pomodoro")),o.a.createElement("div",{className:l.overlay}))))}var K=a(324),U=a(325),V=a(326),$=a(269),Q=a(340),X=a(343),Y=a(323),Z=a(322),_=a(321);function ee(e){var t=e.open,a=e.setOpen,r=e.type,l=o.a.useState(""),c=Object(i.a)(l,2),m=c[0],u=c[1],d=Object(n.useContext)(L),p=d.state,g=d.actions,b=d.updateTasks,f=o.a.useState({title:null,component:null,handleSave:null,saveText:null}),k=Object(i.a)(f,2),E=k[0],h=k[1],v=function(){u(""),a(!1)},T=function(t){"settings"==r?"number"==e.settings.fieldType?t.target.value<100&&t.target.value>0?u(t.target.value):u(""):t.target.value.length<=48&&u(t.target.value):t.target.value.length<=18&&u(t.target.value)};return o.a.useEffect((function(){switch(console.log(e.idMenu),r){case"newTask":h({title:"New Task",component:function(e){var t=e.value;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Q.a,{autoFocus:!0,margin:"dense",id:"name",label:"Task Name",type:"text",fullWidth:!0,value:t,onChange:T}))},saveText:"Create",handleSave:function(e){g({type:"setState",payload:Object(s.a)(Object(s.a)({},p),{},{newTask:{name:e,count:0,currentTime:p.settings.pomodoroTime.pomodoro,status:"pomodoro",isStart:0}})}),v()}});break;case"settings":var t=e.settings;u(t.value),h({title:t.label,component:function(e){var a=e.value;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Q.a,{autoFocus:!0,margin:"dense",id:t.name,label:t.label,type:t.fieldType,fullWidth:!0,value:a,onChange:T}))},saveText:"Save",handleSave:function(e){var a=Object(s.a)({},p.settings);a[t.name][t.id]="number"==t.fieldType?parseInt(e):e,g({type:"setState",payload:Object(s.a)(Object(s.a)({},p),{},{settings:a})}),b(),v()}})}}),[]),o.a.createElement(X.a,{open:t,onClose:v,"aria-labelledby":"form-dialog-title"},o.a.createElement(_.a,{id:"form-dialog-title"},E.title),o.a.createElement(Z.a,null,o.a.createElement(E.component,{value:m})),o.a.createElement(Y.a,null,o.a.createElement($.a,{onClick:v,color:"primary"},"Cancel"),o.a.createElement($.a,{disabled:""==m,onClick:function(){return E.handleSave(m)},color:"primary"},E.saveText)))}var te=Object(d.a)((function(e){return{root:{height:"calc(100vh - 125px)",textAlign:"center"},img:{width:"10em"},fab:{position:"fixed",bottom:e.spacing(9),right:e.spacing(2),zIndex:"2"}}}));function ae(){var e=te(),t=(Object(p.a)(),o.a.useContext(L)),a=t.state,n=(t.actions,o.a.useState(!1)),r=Object(i.a)(n,2),l=r[0],c=r[1],s=function(){return 0==a.tasks.length?o.a.createElement(K.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:e.root},o.a.createElement("img",{src:"/pomodoro/assets/no-data.png",className:e.img}),o.a.createElement(j.a,{gutterBottom:!0,variant:"subtitle1",style:{opacity:.75}},"No Current Task")):a.tasks.map((function(e,t){return o.a.createElement(q,{key:e.id,id:e.id,name:e.name,count:e.count,to:"/task/"+e.id})}))};return o.a.createElement(o.a.Fragment,null,o.a.createElement(s,null),o.a.createElement(U.a,{className:e.fab,color:"primary","aria-label":"add",onClick:function(){c(!0)}},o.a.createElement(V.a,null)),o.a.createElement(ee,{open:l,setOpen:c,type:"newTask"}))}var ne=a(344),oe=a(345),re=a(327),le=a(328),ce=a(329),se=a(330),ie=a(331),me=a(48),ue=a.n(me),de=Object(d.a)((function(e){return{hide:{display:"none"}}}));function pe(e){Object(p.a)(),de();var t=e.icon;return e.hide?null:e.nav?o.a.createElement(G.a,null,o.a.createElement(O.a,{disabled:e.nav.disabled,style:{opacity:e.nav.disabled?.5:1}},o.a.createElement(t,{color:"secondary",onClick:e.click}))):o.a.createElement(G.a,{borderRadius:"50%",borderColor:"primary.main",border:1,margin:1},o.a.createElement(O.a,null,o.a.createElement(t,{fontSize:"large",color:"primary",onClick:e.click})))}var ge=a(59);function be(e,t,a){if("granted"===Notification.permission){var n=t?a[e].start:a[e].end,o=n.title,r={body:n.body};navigator.serviceWorker.getRegistration().then((function(e){e.showNotification(o,r)}))}else console.error("Notification denied")}var fe=a(164),ke=a(165),Ee=a.n(ke),he=Object(d.a)((function(e){return{root:{minHeight:"calc(100vh - 134px)",textAlign:"center"},card:{width:"100%"},timer:{width:"100%",fontSize:"6em",textAlign:"center",fontWeight:"bold"},count:{marginTop:"2em"}}}));function ve(e){var t=o.a.useContext(L),a=t.state,n=(t.actions,t.updateTasks),r=(Object(p.a)(),he()),l=o.a.useState(!1),c=Object(i.a)(l,2),m=c[0],d=(c[1],o.a.useState(!1)),g=Object(i.a)(d,2),b=g[0],f=g[1],k=Object(u.i)().id,E=Object(ge.useIndexedDB)("tasks").update,h=a.tasks.filter((function(e){return e.id==k}))[0];console.log(h);var v=o.a.useRef(!1),T=Object(fe.a)(Ee.a),y=Object(i.a)(T,2),O=y[0],S=(y[1].stop,function(e){E(e).then((function(e){n()}))}),x=function(e,t){e<0&&(e=0);var a=Object(s.a)(Object(s.a)({},h),{},{id:parseInt(k),currentTime:e,isStart:t});S(a)},B=function(e,t,n){var o;o=n?"pomodoro"!=e?parseInt(h.count)+1:parseInt(h.count):"pomodoro"==e?parseInt(h.count)-1:parseInt(h.count),S(Object(s.a)(Object(s.a)({},h),{},{id:parseInt(k),currentTime:a.settings.pomodoroTime[e],status:e,count:o,isStart:0})),setTimeout((function(){t(60*a.settings.pomodoroTime[e]*1e3)}),200)},N=function(e){var t=(h.count+1)%4==0;console.log(t),"pomodoro"==h.status?B(t?"longBreak":"shortBreak",e,!0):B("pomodoro",e,!0)},w=function(e){var t=e.start,n=e.pause,l=e.stop,c=e.getTime,s=e.setTime;c()<0&&!v.current&&(O(),v.current=!0,f(!1),N(s),be(h.status,!1,a.settings.notif));return o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{className:r.card,variant:"outlined"},o.a.createElement(J.a,null,o.a.createElement(j.a,{className:r.timer},o.a.createElement(ue.a.Minutes,null),":",o.a.createElement(ue.a.Seconds,null)),o.a.createElement(K.a,{container:!0,direction:"row",justify:"center",alignItems:"center",className:r.buttons},o.a.createElement(pe,{hide:b,icon:re.a,click:function(){!function(e){var t=h.count%4==0;"pomodoro"==h.status?B(t?"longBreak":"shortBreak",e,!1):B("pomodoro",e,!1)}(s)},nav:{disabled:0==h.count}}),o.a.createElement(pe,{hide:b,icon:le.a,click:function(){l(),v.current=!1,t(),f(!0),be(h.status,!0,a.settings.notif)}}),o.a.createElement(pe,{hide:!b,icon:ce.a,click:function(){x(c()/6e4,1),f(!1),n()}}),o.a.createElement(pe,{hide:b,icon:se.a,click:function(){var e=a.settings.pomodoroTime[h.status];x(e,0),s(60*e*1e3),f(!1)}}),o.a.createElement(pe,{hide:b,icon:ie.a,click:function(){N(s)},nav:{disabled:!1}})))))};return m?o.a.createElement(u.a,{to:"/"}):void 0==h?null:(e.setTitle(h.name),o.a.createElement(K.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:r.root},o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{className:r.card,variant:"outlined"},o.a.createElement(J.a,null,o.a.createElement(j.a,{variant:"h4"},a.settings.statusName[h.status]),o.a.createElement(j.a,{variant:"subtitle",color:"textSecondary"},a.settings.statusMessage[h.status]))),o.a.createElement(ue.a,{startImmediately:!1,initialTime:void 0==h?0:60*h.currentTime*1e3,direction:"backward",lastUnit:"m",formatValue:function(e){return"".concat(e<10?"0".concat(e):e)}},w),o.a.createElement(ne.a,{color:"primary",avatar:o.a.createElement(oe.a,null,h.count),label:"Pomodoro",className:r.count}))))}var Te=a(332),ye=Object(d.a)((function(e){return{root:{minHeight:"calc(100vh - 134px)",textAlign:"center"},card:{width:"100%"},timer:{width:"100%",fontSize:"6em",textAlign:"center",fontWeight:"bold"},buttonGroup:{marginTop:"1.5em"},button:{lineHeight:1.2}}}));function Oe(){Object(p.a)();var e=ye(),t=o.a.useContext(L),a=t.state,n=t.actions,r=a.manualTimer,l=o.a.useState(!1),c=Object(i.a)(l,2),m=c[0],u=c[1],d=o.a.useRef(!1),g=function(e,t){e<0&&(e=0),n({type:"setState",payload:Object(s.a)(Object(s.a)({},a),{},{manualTimer:Object(s.a)(Object(s.a)({},r),{},{currentTime:e,isStart:t})})})},b=function(e){r.status!=e&&n({type:"setState",payload:Object(s.a)(Object(s.a)({},a),{},{manualTimer:Object(s.a)(Object(s.a)({},r),{},{status:e,currentTime:a.settings.pomodoroTime[e]})})})},f=function(t){var n=t.start,l=t.pause,c=(t.stop,t.getTime),s=t.setTime;c()<0&&!d.current&&(d.current=!0,u(!1),be(r.status,!1,a.settings.notif));return o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{className:e.card,variant:"outlined"},o.a.createElement(J.a,null,o.a.createElement(j.a,{className:e.timer},o.a.createElement(ue.a.Minutes,null),":",o.a.createElement(ue.a.Seconds,null)),o.a.createElement(K.a,{container:!0,direction:"row",justify:"center",alignItems:"center",className:e.buttons},o.a.createElement(pe,{hide:m,icon:le.a,click:function(){d.current=!1,n(),u(!0),be(r.status,!0,a.settings.notif)}}),o.a.createElement(pe,{hide:!m,icon:ce.a,click:function(){g(c()/6e4,1),u(!1),l()}}),o.a.createElement(pe,{hide:m,icon:se.a,click:function(){var e=a.settings.pomodoroTime[r.status];g(e,0),s(60*e*1e3),u(!1)}})))))};return o.a.createElement(K.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:e.root},o.a.createElement(D.a,{className:e.card,variant:"outlined"},o.a.createElement(J.a,null,o.a.createElement(j.a,{variant:"h4"},a.settings.statusName[r.status]),o.a.createElement(j.a,{variant:"subtitle",color:"textSecondary"},a.settings.statusMessage[r.status]))),o.a.createElement(ue.a,{startImmediately:!1,initialTime:void 0==r?0:60*r.currentTime*1e3,direction:"backward",lastUnit:"m",formatValue:function(e){return"".concat(e<10?"0".concat(e):e)}},f),o.a.createElement(Te.a,{className:e.buttonGroup,color:"primary","aria-label":"outlined primary button group"},o.a.createElement($.a,{onClick:function(){b("pomodoro")},variant:"pomodoro"==r.status?"contained":"outlined",className:e.button},"Pomodoro"),o.a.createElement($.a,{onClick:function(){b("shortBreak")},variant:"shortBreak"==r.status?"contained":"outlined",className:e.button},"Short Break"),o.a.createElement($.a,{onClick:function(){b("longBreak")},variant:"longBreak"==r.status?"contained":"outlined",className:e.button},"Long Break")))}var je=a(333),Se=a(268),xe=a(334),Be=a(313),Ne=a(346);function we(e){e.setTitle("Settings");var t=o.a.useContext(L),a=t.state,n=t.actions,r=o.a.useState(!1),l=Object(i.a)(r,2),c=l[0],m=l[1],u=o.a.useState(null),d=Object(i.a)(u,2),p=d[0],g=d[1],b=o.a.useState(!1),f=Object(i.a)(b,2),k=f[0],E=(f[1],[{id:"pomodoro",name:"pomodoroTime",label:"Pomodoro Time",valueLabel:a.settings.pomodoroTime.pomodoro+" minutes",value:a.settings.pomodoroTime.pomodoro,fieldType:"number"},{id:"shortBreak",name:"pomodoroTime",label:"Short Break Time",valueLabel:a.settings.pomodoroTime.shortBreak+" minutes",value:a.settings.pomodoroTime.shortBreak,fieldType:"number"},{id:"longBreak",name:"pomodoroTime",label:"Long Break Time",valueLabel:a.settings.pomodoroTime.longBreak+" minutes",value:a.settings.pomodoroTime.longBreak,fieldType:"number"},{id:"pomodoro",name:"statusMessage",label:"Pomodoro Message",valueLabel:a.settings.statusMessage.pomodoro,value:a.settings.statusMessage.pomodoro,fieldType:"text"},{id:"shortBreak",name:"statusMessage",label:"Short Break Message",valueLabel:a.settings.statusMessage.shortBreak,value:a.settings.statusMessage.shortBreak,fieldType:"text"},{id:"longBreak",name:"statusMessage",label:"Long Break Message",valueLabel:a.settings.statusMessage.longBreak,value:a.settings.statusMessage.longBreak,fieldType:"text"}]);o.a.useEffect((function(){null!=p&&m(!0)}),[p]);o.a.useEffect((function(){}),[k]);var h=function(){return E.map((function(e,t){return o.a.createElement(o.a.Fragment,null,o.a.createElement(je.a,null),o.a.createElement(Se.a,null,o.a.createElement(xe.a,{primary:e.label,secondary:e.valueLabel,onClick:function(){g(e)}})))}))},v=function(){return null==p?null:o.a.createElement(ee,{open:c,setOpen:m,type:"settings",settings:p})};return o.a.createElement(o.a.Fragment,null,o.a.createElement(Be.a,null,o.a.createElement(Se.a,null,o.a.createElement(K.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},o.a.createElement(xe.a,{primary:"Dark Mode"}),o.a.createElement(Ne.a,{checked:a.settings.darkMode,onChange:function(e){n({type:"setState",payload:Object(s.a)(Object(s.a)({},a),{},{settings:Object(s.a)(Object(s.a)({},a.settings),{},{darkMode:e.target.checked?1:0})})})},color:"primary",name:"darkMode",inputProps:{"aria-label":"primary checkbox"}}))),o.a.createElement(h,null)),o.a.createElement(v,null))}var Me=a(336),Ce=a(335),Ie=Object(d.a)((function(e){return{root:{minHeight:"calc(100vh - 134px)",textAlign:"center"}}}));function Le(e){Object(p.a)();var t=Ie();return e.setTitle("About"),o.a.createElement(K.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:t.root},o.a.createElement(o.a.Fragment,null,o.a.createElement(j.a,{variant:"h6"},"About Pomodoro Timer"),o.a.createElement(j.a,{variant:"body1",color:"textSecondary"},"Pomodoro Timer is a web app that can assist you to manage your time using pomodoro technique. Thank you for using this app. May Allah bless you :)"),o.a.createElement(j.a,{variant:"body1",style:{marginTop:"2em"},color:"textSecondary"},"Made with ",o.a.createElement(Ce.a,{fontSize:"small",color:"primary"})," by ",o.a.createElement(Me.a,{href:"https://instagram.com/mqad21",variant:"body1"},"@mqad21"))))}var Pe=Object(d.a)((function(e){return{content:{backgroundColor:"primary",flexGrow:1,marginTop:"56px",padding:e.spacing(3),paddingBottom:"56px",minHeight:"calc(100vh - 56px)"},padding0:{padding:0},bottomNav:{marginTop:"28px"}}}));function Fe(){var e=Pe(),t=(Object(p.a)(),o.a.useContext(L)),a=t.state,n=t.actions,r=Object(u.h)().pathname.split("/")[1],l=["task","settings","about"].includes(r),d=o.a.useState("Pomodoro Timer"),g=Object(i.a)(d,2),b=g[0],f=g[1],k=function(){0!=a.selectedTasks.length&&n({type:"setState",payload:Object(s.a)(Object(s.a)({},a),{},{selectedTasks:[]})})},E=function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement(A.a,null),o.a.createElement(z.a,{className:Object(m.a)(e.content,Object(c.a)({},e.padding0,"settings"==r),Object(c.a)({},e.bottomNav,t.bottomNav)),onClick:k},o.a.createElement(G.a,{my:2},t.component)),t.bottomNav?o.a.createElement(v,{location:r}):null)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(F,{displayBack:l,title:["","timer"].includes(r)?"Pomodoro Timer":b}),o.a.createElement(u.d,null,o.a.createElement(u.b,{exact:!0,path:"/"},o.a.createElement(E,{bottomNav:!0,component:o.a.createElement(ae,null),noMargin:!1})),o.a.createElement(u.b,{exact:!0,path:"/timer"},o.a.createElement(E,{bottomNav:!0,component:o.a.createElement(Oe,null),noMargin:!1})),o.a.createElement(u.b,{exact:!0,path:"/task/:id"},o.a.createElement(E,{bottomNav:!1,component:o.a.createElement(ve,{setTitle:f,noMargin:!1})})),o.a.createElement(u.b,{exact:!0,path:"/settings"},o.a.createElement(E,{bottomNav:!1,component:o.a.createElement(we,{setTitle:f,noMargin:!0})})),o.a.createElement(u.b,{exact:!0,path:"/about"},o.a.createElement(E,{bottomNav:!1,component:o.a.createElement(Le,{setTitle:f,noMargin:!1})})),o.a.createElement(u.a,{to:"/"})))}a(265);var Ae=a(166),ze=a(339),Ge=a(119),De=a.n(Ge),He=a(116),Je=a.n(He);var Re=function(){var e=o.a.useContext(L).state,t=Object(Ae.a)({palette:{type:1==e.settings.darkMode?"dark":"light",primary:{main:1==e.settings.darkMode?De.a[400]:De.a[600]},secondary:{main:Je.a[700]}}});return o.a.createElement(g.a,null,o.a.createElement(ze.a,{theme:t},o.a.createElement(Fe,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Object(ge.initDB)({name:"Pomodoro",version:4,objectStoresMeta:[{store:"tasks",storeConfig:{keyPath:"id",autoIncrement:!0},storeSchema:[{name:"name",keypath:"name"},{name:"count",keypath:"count"},{name:"currentTime",keypath:"currentTime"},{name:"status",keypath:"status"},{name:"isStart",keypath:"isStart"}]}]});var We=function(){var e=function(){var e=Object(ge.useIndexedDB)("tasks"),t=e.getAll,a=e.add,o=e.deleteRecord,r=e.update,l=JSON.parse(localStorage.getItem("settings"))||{},c=l.pomodoroTime||{},m=l.statusMessage||{},u=l.darkMode||0,d=Object(n.useState)({tasks:[],newTask:null,oldTaskId:null,selectedTasks:[],manualTimer:JSON.parse(localStorage.getItem("manualTimer"))||{status:"pomodoro",currentTime:c.pomodoro||25,isStart:0},settings:{pomodoroTime:{pomodoro:c.pomodoro||25,shortBreak:c.shortBreak||5,longBreak:c.longBreak||10},statusName:{pomodoro:"Pomodoro",shortBreak:"Short Break",longBreak:"Long Break"},statusMessage:{pomodoro:m.pomodoro||"Let's start and become productive.",shortBreak:m.shortBreak||"Good job! let's take a short break.",longBreak:m.longBreak||"Awesome! let's take a long break."},notif:{pomodoro:{start:{title:"Pomodoro timer is set",body:"Keep focus, dude!"},end:{title:"Pomodoro timer has ended",body:"Take a break, dude!"}},shortBreak:{start:{title:"Short break timer is set",body:"Have fun, dude!"},end:{title:"Short break timer has ended",body:"Let's back work!"}},longBreak:{start:{title:"Long break timer is set",body:"Be happy, dude!"},end:{title:"Long break timer has ended",body:"Keep spirit!"}}},darkMode:u}}),p=Object(i.a)(d,2),g=p[0],b=p[1];Object(n.useEffect)((function(){localStorage.setItem("settings",Object(s.a)(Object(s.a)({},l),{},{darkMode:g.settings.darkMode}))}),[g.settings.darkMode]),Object(n.useEffect)((function(){localStorage.setItem("settings",JSON.stringify(g.settings))}),[g.settings]),Object(n.useEffect)((function(){localStorage.setItem("manualTimer",JSON.stringify(g.manualTimer))}),[g.manualTimer]);var f=function(){t().then((function(e){for(var t=0;t<e.length;t++)0==e[t].isStart&&(e[t].currentTime=g.settings.pomodoroTime[e[t].status],console.log(g.settings.pomodoroTime[e[t].status]));var a=0==g.manualTimer.isStart?g.settings.pomodoroTime[g.manualTimer.status]:g.manualTimer.currentTime;b(Object(s.a)(Object(s.a)({},g),{},{tasks:e,manualTimer:Object(s.a)(Object(s.a)({},g.manualTimer),{},{currentTime:a})}))}))};return Object(n.useEffect)((function(){f()}),[]),Object(n.useEffect)((function(){null!=g.updatedTask&&(console.log(Object(s.a)({},g.updatedTask)),r(Object(s.a)({},g.updatedTask)).then((function(e){console.log("ID Generated: ",e.target),t().then((function(e){b(Object(s.a)(Object(s.a)({},g),{},{updatedTask:null,tasks:e}))}))}),(function(e){console.log(e)})))}),[g.updatedTask]),Object(n.useEffect)((function(){null!=g.newTask&&a(Object(s.a)({},g.newTask)).then((function(e){console.log("ID Generated: ",e.target),t().then((function(e){b(Object(s.a)(Object(s.a)({},g),{},{newTask:null,tasks:e}))}))}),(function(e){console.log(e)}))}),[g.newTask]),Object(n.useEffect)((function(){null!=g.oldTaskId&&g.oldTaskId.forEach((function(e){o(e),t().then((function(e){b(Object(s.a)(Object(s.a)({},g),{},{oldTaskId:null,tasks:e}))}))}))}),[g.oldTaskId]),{state:g,actions:function(e){var t=e.type,a=e.payload;switch(t){case"setState":return b(a);default:return g}},updateTasks:f}}();return o.a.createElement(L.Provider,{value:e},o.a.createElement(Re,null))};l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(We,null)),document.getElementById("root"))}},[[182,1,2]]]);
//# sourceMappingURL=main.1263eb7c.chunk.js.map